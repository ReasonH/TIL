### 배경

**MSA의 발전**

MSA가 발전하며 디자인 패턴과 이를 구현하기 위한 다양한 인프라 플랫폼이 소개되기 시작했다. 또한, 1~2 코어로도 운영 가능한 작은 서비스는 VM으로 운영하기에는 자원 낭비, 배포 속도 문제가 있었다.

**솔루션의 발전**

배포 방식 또한 VM이나 컨테이너 단위로 배포하는 피닉스 패턴과 이를 위한 Spinnaker... 기타 등등의 등장

**데브옵스 모델 성숙화**

운영과 개발의 분리가 명확해지는 중

### 왜 쿠버네티스?

일단 여러 사유를 제쳐두고, 묵시적 표준이기 때문이다. 여러 클라우드 벤더 또한 쿠버네티스를 지원한다.

### 컨테이너 운영환경이란?

컨테이너와 이를 배포하기 위한 VM, 하드웨어 수가 많아지면 어떤 컨테이너를 어디에 배포해야할지에 대한 결정이 필요하다.

1. 자원을 최적으로 사용하는 위치에 배포해야 한다.
2. 애플리케이션 특성들에 따라 같은 물리서버 혹은 다른 물리서버에 배포되어야 한다.

이렇듯 컨테이너를 적절 서버에 배포하는 역할을 **스케쥴링**이라 한다.

쿠버네티스의 역할은 스케쥴링 외에도 다음과 같다.

- 회복
- 모니터링
- 삭제관리

이를 통틀어 컨테이너 운영환경이라 한다.

### 쿠버네티스란?

구글의 내부 컨테이너 서비스 구조를 오픈소스화한 것이다. Go로 구현되어있으며 벤더나 플랫폼에 종속되지 않는다. 따라서 대부분의 퍼블릭 클라우드에 사용 가능하며 오픈스택, 베어메탈(일반 HW) 등에도 배포 가능하다. 또한, 이런 특성때문에 하이브리드 클라우드 솔루션으로도 각광받는다.

### 컨테이너 환경을 VM에 올리는 이유?

베어메탈 머신 위에 쿠버네티스를 깔면 되는데, 왜 VM을 올리고 그 위에 쿠버네티스를 배포할까?

(저자의 의견에 따르면) 하드웨어 자원의 효율성이 이유에 있다. 컨테이너는 HW 자원을 컨테이너화하여 고립시키는데, 가상화 환경은 고립 기능과 동시에 가상화를 통한 자원 확장(쪼개기) 가능하다.

**예시**

8Core 장비에 k8s를 바로 올릴경우 8Core를 나눠쓰게 된다.

8Core 장비를 나눠서 VM화 시킨 뒤 이를 k8s가 사용하면 8Core를 적절히 나눠서 사용할 수 있다.